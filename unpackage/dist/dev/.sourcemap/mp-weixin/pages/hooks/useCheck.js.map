{"version":3,"file":"useCheck.js","sources":["pages/hooks/useCheck.ts"],"sourcesContent":["import{ ref,reactive} from 'vue'\r\nimport { User } from '../../static/interface/User';\r\nexport default function(){\r\n\tlet account : User = reactive({\r\n\t  username: '',\r\n\t  password: '',\r\n\t  email: '',\r\n\t  createDateTime:'',\r\n\t})\r\n\tlet tryPassword = ref('');\r\n\tlet code = ref('')\r\n\tlet inputCode = ref(\"\")\r\n\tfunction isVaildUsername(username:string){\r\n\t\tif(username.length<4 || username.length > 20){\r\n\t\t\treturn \"用户名长度非法(4-20)!\"\r\n\t\t}\r\n\t\treturn \"success\"\r\n\t}\r\n\t\r\n\tfunction isVaildPassword(password:string,tryagainPassword:string){\r\n\t\tif(password.length < 8 || password.length > 20){\r\n\t\t\treturn \"密码长度非法(8-20)! \"\r\n\t\t}\r\n\t\tlet Up = 0;let Low = 0;let sign = 0;let num = 0;\r\n\t\tfor(let x of password){\r\n\t\t\tif(x >= 'a' && x <= 'z') {\r\n\t\t\t\tLow++\r\n\t\t\t}else if(x >= 'A' && x <= 'Z') {\r\n\t\t\t\tUp++\r\n\t\t\t}else if(x >= '0' && x <= '9'){\r\n\t\t\t\tnum++\r\n\t\t\t}else{\r\n\t\t\t\tsign++\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet ok =  Up >= 1 && Low >= 1 && sign >= 1 && num >= 1;\r\n\t\t\r\n\t\tif(!ok){\r\n\t\t\treturn \"密码中下面各项至少包含一个(大写字母,小写字母,数字,字符)! \"\r\n\t\t}\r\n\t\tif(password != '' && tryagainPassword != '' && password !== tryagainPassword) {\r\n\t\t\treturn '密码两次输入不同'\r\n\t\t}\r\n\t\treturn \"success\";\r\n\t}\r\n\tfunction isVaildEmail(email:string){\r\n\t\t  let pattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\t\t  if(!pattern.test(email)) return \"邮箱格式非法\"\r\n\t\t  return \"success\";\r\n\t}\r\n\t\r\n\tfunction isVaildCode(code:string,inputCode:string){\r\n\t\tif(code == 'outtime') return \"验证码过期\"\r\n\t\tif(inputCode.length !== 6 || inputCode !== code) return \"验证码错误\"\r\n\t\treturn \"success\"\r\n\t}\r\n\t\r\n\treturn {account,tryPassword,code,inputCode,isVaildUsername,isVaildPassword,isVaildEmail,isVaildCode}\r\n}"],"names":["reactive","ref","code","inputCode"],"mappings":";;AAEyB,SAAA,WAAA;AACxB,MAAI,UAAiBA,cAAAA,SAAS;AAAA,IAC5B,UAAU;AAAA,IACV,UAAU;AAAA,IACV,OAAO;AAAA,IACP,gBAAe;AAAA,EAAA,CAChB;AACG,MAAA,cAAcC,kBAAI,EAAE;AACpB,MAAA,OAAOA,kBAAI,EAAE;AACb,MAAA,YAAYA,kBAAI,EAAE;AACtB,WAAS,gBAAgB,UAAgB;AACxC,QAAG,SAAS,SAAO,KAAK,SAAS,SAAS,IAAG;AACrC,aAAA;AAAA,IACR;AACO,WAAA;AAAA,EACR;AAES,WAAA,gBAAgB,UAAgB,kBAAwB;AAChE,QAAG,SAAS,SAAS,KAAK,SAAS,SAAS,IAAG;AACvC,aAAA;AAAA,IACR;AACA,QAAI,KAAK;AAAE,QAAI,MAAM;AAAE,QAAI,OAAO;AAAE,QAAI,MAAM;AAC9C,aAAQ,KAAK,UAAS;AAClB,UAAA,KAAK,OAAO,KAAK,KAAK;AACxB;AAAA,MACQ,WAAA,KAAK,OAAO,KAAK,KAAK;AAC9B;AAAA,MACQ,WAAA,KAAK,OAAO,KAAK,KAAI;AAC7B;AAAA,MAAA,OACI;AACJ;AAAA,MACD;AAAA,IACD;AACA,QAAI,KAAM,MAAM,KAAK,OAAO,KAAK,QAAQ,KAAK,OAAO;AAErD,QAAG,CAAC,IAAG;AACC,aAAA;AAAA,IACR;AACA,QAAG,YAAY,MAAM,oBAAoB,MAAM,aAAa,kBAAkB;AACtE,aAAA;AAAA,IACR;AACO,WAAA;AAAA,EACR;AACA,WAAS,aAAa,OAAa;AAChC,QAAI,UAAU;AACX,QAAA,CAAC,QAAQ,KAAK,KAAK;AAAU,aAAA;AACzB,WAAA;AAAA,EACV;AAES,WAAA,YAAYC,OAAYC,YAAiB;AACjD,QAAGD,SAAQ;AAAkB,aAAA;AAC1BC,QAAAA,WAAU,WAAW,KAAKA,eAAcD;AAAa,aAAA;AACjD,WAAA;AAAA,EACR;AAEO,SAAA,EAAC,SAAQ,aAAY,MAAK,WAAU,iBAAgB,iBAAgB,cAAa;AACzF;;"}